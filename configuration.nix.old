{ config, lib, pkgs, home-manager, ... }:

{
  imports =
    [ ./hardware-configuration.nix
    ];

  services.pipewire = {
    enable = true;
    audio.enable = true;
    alsa.enable = true;
    alsa.support32Bit = true;
    wireplumber.enable = true;
    pulse.enable = true;
    jack.enable = true;
  };

  networking.firewall.extraCommands = ''iptables -t raw -A OUTPUT -p udp -m udp --dport 137 -j CT --helper netbios-ns'';

  services.xserver = {

    # monitor configuration
    xrandrHeads = [
      "DP-5"
      {
        output = "HMDI-0";
      	primary = true;
      }
    ];
  };
  services.displayManager = {
    defaultSession ="none+i3";
#   autoLogin.user = "siigs";
#   autoLogin.enable = true;
  };

  services.playerctld.enable = true;

  # List packages installed in system profile. To search, run:
  # $ nix search wget
  environment.systemPackages = with pkgs; [
    drawio
    pandoc
    texlivePackages.collection-latexrecommended
    xclip
    texliveTeTeX
    discord
    vlc
    firefox
    qjackctl
    rofi
    alsa-utils
    arandr

    nodejs_22
    python313
    go
    R

    spotify
  ];

  system.stateVersion = "24.05"; # Did you read the comment?

}

